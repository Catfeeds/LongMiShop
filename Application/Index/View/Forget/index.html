<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>龙米</title>
<link href="__PUBLIC__/css/css.css" rel="stylesheet" type="text/css" />
<link href="__PUBLIC__/css/mui.min.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div class="mydiv1">
  <div class="pop1" style="text-align:center; width:500px">
    <div class="in3"> 忘记密码 </div>
    <div class="pop_main"> </div>
    <form method="post" action="{: U('Index/Forget/index')}" id="forget_from">
      <div class="tab_box2" style="border-radius:0 0 6px 6px!important">
        <input name="genre" type="text" class="pop_text1 icon_bg" placeholder="手机号/邮箱" style="width:100%; margin-bottom:10px; background-image:url(__PUBLIC__/img/icon-a.png)" >
        <input name="verify" type="text" class="pop_text1 icon_bg" placeholder="请输入验证码" style="width:60%; margin-top:0px; float:left; background-image:url(__PUBLIC__/img/icon-b.png)">
        <div class="code_box"><img src="{: U('Index/Verify/verify')}" width="125" height="52" onclick="this.src=this.src"></div>
        <div style="clear:both"></div>
        <div class="m5_btn"><a href="javascript:forget_from()">下一步</a></div>
      </div>
    </form>
  </div>
</div>
</body>
</html>
<script src="./Public/js/jquery-1.8.2.min.js"></script>
<script>
  function forget_from(){
    var genre = $('input[name="genre"]').val();
    var verify = $('input[name="verify"]').val();
    var reg = /^[1-9]\d*$|^0$/;
    var mobile = /(^1[3|4|5|7|8][0-9]{9}$)/;
    var email = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;

    if(genre.length == 0){
      alert('请填写找回手机号或邮箱');
      return false;
    }
    if(reg.test(genre)==true){ //数字
      if(!mobile.test(genre)){
        alert('手机格式不对');
        return false;
      }
    }else{ //邮箱
      if(!email.test(genre)){
        alert('邮箱格式不对');
        return false;
      }
    }

    if(verify.length == 0){
      alert('验证码不能为空');
      return false
    }

    $('#forget_from').submit();




  }
</script>
