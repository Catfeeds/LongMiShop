<script type="text/javascript" src="__STATIC__/js/jquery.js"></script>
<script src="__PUBLIC__/js/global.js"></script>
<script type="text/javascript" src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script type="text/javascript">


    var ShareLink = "http://{: $_SERVER[HTTP_HOST].U('Mobile/Addons/lunchFeast',array('pluginName'=>'index'))}"; //默认分享链接
    var ShareImgUrl = "http://{$_SERVER[HTTP_HOST]}{$config['shareimg']}"; // 分享图标
    var configTitle = "{$config['title']}";
    var configDesc = "{$config['desc']}";


// 微信配置
wx.config({
    debug: false, 
    appId: "{$signPackage['appId']}", 
    timestamp: '{$signPackage["timestamp"]}', 
    nonceStr: '{$signPackage["nonceStr"]}', 
    signature: '{$signPackage["signature"]}',
    jsApiList: ['onMenuShareTimeline', 'onMenuShareAppMessage','onMenuShareQQ','onMenuShareQZone','hideOptionMenu'] // 功能列表，我们要使用JS-SDK的什么功能
});

// config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，config是一个客户端的异步操作，所以如果需要在 页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口，则可以直接调用，不需要放在ready 函数中。
wx.ready(function(){
    // 获取"分享到朋友圈"按钮点击状态及自定义分享内容接口
    wx.onMenuShareTimeline({
        title: title, // 分享标题
        link:ShareLink,
        imgUrl:ShareImgUrl // 分享图标
    });

    // 获取"分享给朋友"按钮点击状态及自定义分享内容接口
    wx.onMenuShareAppMessage({
        title: configTitle, // 分享标题
        desc: configDesc, // 分享描述
        link:ShareLink,
        imgUrl:ShareImgUrl // 分享图标
    });
	// 分享到QQ
	wx.onMenuShareQQ({
        title: configTitle, // 分享标题
        desc: configDesc, // 分享描述
        link:ShareLink,
        imgUrl:ShareImgUrl // 分享图标
	});	
	// 分享到QQ空间
	wx.onMenuShareQZone({
        title: configTitle, // 分享标题
        desc: configDesc, // 分享描述
        link:ShareLink,
        imgUrl:ShareImgUrl // 分享图标
	});


	
});
</script>


